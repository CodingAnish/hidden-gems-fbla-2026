<!-- Review Modal Component -->
<div id="review-modal" class="modal" aria-hidden="true" role="dialog" aria-labelledby="review-modal-title">
    <div class="modal-content">
        <span class="close" onclick="Reviews.closeModal()" role="button" tabindex="0" aria-label="Close review modal">&times;</span>
        
        <h2 id="review-modal-title">Write a Review</h2>
        <p id="business-name-display" style="color: #2563EB; font-weight: 600; margin-bottom: 1.5rem;"></p>
        
        <div id="review-errors" role="alert" aria-live="assertive"></div>
        
        <form id="review-form" onsubmit="Reviews.submit(event)" novalidate>
            <div class="form-group">
                <label for="reviewer-name">Your Name *</label>
                <input 
                    type="text" 
                    id="reviewer-name" 
                    name="reviewer_name"
                    placeholder="Enter your name"
                    required
                    aria-required="true"
                    aria-describedby="name-error"
                >
            </div>
            
            <div class="form-group">
                <label for="review-rating">Rating *</label>
                <div class="star-rating" role="group" aria-labelledby="review-rating">
                    <input type="radio" id="rating-5" name="rating" value="5" required>
                    <label for="rating-5">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Excellent</label>
                    
                    <input type="radio" id="rating-4" name="rating" value="4">
                    <label for="rating-4">‚≠ê‚≠ê‚≠ê‚≠ê Good</label>
                    
                    <input type="radio" id="rating-3" name="rating" value="3">
                    <label for="rating-3">‚≠ê‚≠ê‚≠ê Average</label>
                    
                    <input type="radio" id="rating-2" name="rating" value="2">
                    <label for="rating-2">‚≠ê‚≠ê Fair</label>
                    
                    <input type="radio" id="rating-1" name="rating" value="1">
                    <label for="rating-1">‚≠ê Poor</label>
                </div>
            </div>
            
            <div class="form-group">
                <label for="review-comment">Your Review *</label>
                <textarea 
                    id="review-comment" 
                    name="comment"
                    placeholder="Share your experience (10-500 characters)"
                    minlength="10"
                    maxlength="500"
                    required
                    aria-required="true"
                    aria-describedby="char-count"
                    onkeyup="Validator.updateCharCount(this)"
                ></textarea>
                <div id="char-count" aria-live="polite">0 / 500 characters</div>
            </div>
            
            <!-- CAPTCHA VERIFICATION SECTION -->
            <div class="form-group captcha-section" style="background: linear-gradient(135deg, #f8f9fa 0%, #fff3cd 100%); border-left: 4px solid #ffc107; padding: 1.25rem; border-radius: 8px; margin: 1.5rem 0;">
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1rem;">
                    <label style="font-weight: 600; color: #856404; margin: 0;">üîí Verification Question</label>
                    <button type="button" id="refreshCaptchaBtn" onclick="Reviews.loadCaptcha()" style="background: #ffc107; border: none; color: #000; padding: 0.4rem 0.8rem; border-radius: 4px; cursor: pointer; font-weight: 600; font-size: 0.85rem;">üîÑ New Question</button>
                </div>
                <p class="captcha-question" id="captcha-question" style="font-weight: bold; color: #333; margin: 0 0 1rem 0; font-size: 1rem;">Loading verification question...</p>
                <div style="display: flex; gap: 0.5rem;">
                    <input 
                        type="number" 
                        id="captcha-answer" 
                        name="captcha_answer"
                        placeholder="Enter your answer"
                        required
                        aria-required="true"
                        style="flex: 1; padding: 0.75rem 1rem; border: 2px solid #ddd; border-radius: 6px; font-size: 1rem;"
                    />
                </div>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.85rem; color: #666;">Answer the verification question to prove you're not a bot</p>
            </div>
            
            <button type="submit" class="btn-submit" aria-label="Submit your review">
                Submit Review ‚úì
            </button>
        </form>
    </div>
</div>
